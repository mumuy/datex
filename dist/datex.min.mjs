/*!
 * datex.js v1.0.18
 * a datetime format library
 * https://passer-by.com/datex/
 *
 * Copyright (c) 2022-present, HaoLe Zheng
 *
 * Released under the MIT License
 * https://github.com/mumuy/datex
 *
 * Created on: 2025-03-18
 */
function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(t=function(){return!!e})()}function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e(t,n)}function n(n,r,a){if(t())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,r);var o=new(n.bind.apply(n,i));return a&&e(o,a.prototype),o}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=["year","month","day","hour","minute","second","millsecond"],u=[1970,1,1,0,0,0,0],s={year:31536e6,month:2592e6,day:864e5,hour:36e5,minute:6e4,second:1e3,millsecond:1},c={Y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",S:"millsecond",W:"week"};function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t){return null!=t&&("object"==f(t)||"function"==typeof t)}function m(t){return"number"==typeof t&&!isNaN(t)}function l(t){return"string"==typeof t}function g(t){return"function"==typeof t}function d(t){return t instanceof Date}var p=[],v={_date:null,parse:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a,s=e.slice(0);if(s.length&&s[0]){if(Object.getPrototypeOf(s[0])==Object.getPrototypeOf(this))return this._date=s[0].toDate(),s[0];if(d(s[0]))this._date=s[0];else{if(a=s[0],Array.isArray(a)?s=u.map((function(t,e){return s[0][e]||t})):h(s[0])&&(s=u.map((function(t,e){return s[0][o[e]]||t}))),1==s.length&&l(s[0])){var c=s[0].match(/(\d{1,4})[\-\/](\d{1,2})[\-\/](\d{1,2})([\sT](\d{1,2})?:(\d{1,2})?(:(\d{1,2}))?(\.(\d{1,3}))?)?/),f=s[0].match(/(\d{1,2})[\-\/](\d{1,2})[\-\/](\d{3,4})([\sT](\d{1,2})?:(\d{1,2})?(:(\d{1,2}))?(\.(\d{1,3}))?)?/),g=s[0].match(/^([12]\d{3})(\d{2})(\d{2})(\d{2})?(\d{2})?(\d{2})?(\d{1,3})?/);c&&!f?s=[1,2,3,5,6,8,10].map((function(t,e){return+(c[t]||u[e])})):f?s=[3,1,2,5,6,8,10].map((function(t,e){return+(f[t]||u[e])})):g&&(s=[1,2,3,4,5,6,7].map((function(t,e){return+(g[t]||u[e])})))}s.length>=3&&s[1]--,this._date=n(Date,i(s)),s.length>=2&&m(s[0])&&s[0]<100&&this._date.setFullYear(s[0])}}else this._date=new Date;return this},init:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.parse.apply(this,e);var r=this;return p.forEach((function(t){t.bind(r).apply(void 0,e)})),this},onInit:function(t){p.push(t)}};function y(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(y.prototype.init,e)}function b(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function M(t,e,n){_(t,e),e.set(t,n)}function _(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(t,e){return t.get(T(t,e))}function w(t,e,n){return t.set(T(t,e),n),n}function T(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}y.now=Date.now,y.extend=function(t){t(y,v)},y.prototype=v,v.init.prototype=v;var S=new WeakMap,j=new WeakMap,D=new WeakSet,W=function(){return t=function t(){var e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(e=this,n=D),n.add(e),M(this,S,null),M(this,j,null);var r=this;r.value=0;for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(2==i.length)h(i[0])&&h(i[1])?(w(S,r,i[0]),w(j,r,i[1]),r.value=O(S,r).getTime()-O(j,r).getTime()):m(i[0])&&l(i[1])&&r.change(i[1],i[0]);else if(1==i.length)if(h(i[0]))for(var u in i[0])r.change(u,i[0][u]);else m(i[0])&&(r.value+=i[0])},e=[{key:"change",value:function(t,e){var n=this;return O(S,n)&&O(j,n)?(O(S,n).change(t,e),n.value=O(S,n).getTime()-O(j,n).getTime()):s[t]&&(n.value+=s[t]*e),n}},{key:"get",value:function(t){var e=this;if(t){if(O(S,e)&&O(j,e)){var n=O(S,e),r=O(j,e),a=e.value,i=0;return"month"==t?(i=12*(n.get("year")-1)+n.get("month")-(12*(r.get("year")-1)+r.get("month")))<0&&n.get("day")>r.get("day")?i+=1:i>0&&n.get("day")<r.get("day")&&(i-=1):"year"==t?(i=n.get("year")-r.get("year"))<0&&(n.get("month")>r.get("month")||n.get("month")==r.get("month")&&n.get("day")>r.get("day"))?i+=1:i>0&&(n.get("month")<r.get("month")||n.get("month")==r.get("month")&&n.get("day")<r.get("day"))&&(i-=1):s[t]&&(i=~~(a/s[t])),i}return s[t]&&Math.floor(e.value/s[t])||0}return e.value}},{key:"toObject",value:function(){var t=this;return Object.assign({value:t.value},T(D,t,k).call(t,o))}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss";if(l(t)){var e=[];t.match(/Y+|M+|D+|H+|m+|s+|S+/g).forEach((function(t){var n=c[t[0]];e.includes(n)||e.push(n)}));var n=T(D,this,k).call(this,e),r={Y:""+n.year,M:""+n.month,D:""+n.day,H:""+n.hour,m:""+n.minute,s:""+n.second,S:""+n.millsecond};return t.replace(/Y+|M+|D+|H+|m+|s+|S+/g,(function(t){if(r[t])return r[t];if(r[t[0]]){var e=r[t[0]]<0,n=Math.abs(r[t[0]]).toString().padStart(t.length,"0");return e?"-"+n:n}return""}))}if(g(t))return t(this.toObject()).toString()||""}}],e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function k(t){var e=this,n={};if(O(S,e)&&O(j,e)){var r=e.value,a=O(S,e).clone(),i=O(j,e).clone();t.forEach((function(t){n[t]=e.get(t),e.change(t,-n[t])})),e.value=r,w(S,e,a),w(j,e,i)}else{var o=e.value;t.forEach((function(t){s[t]&&(n[t]=Math.floor(o/s[t])||0,o%=s[t])}))}return n}var z={name:"en-us",format:{MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],Do:["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th","31st"],WW:["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],WWW:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},duration:{"past moments":"just now","future moments":"moments later",now:"now"}},C={name:"zh-cn",format:{MMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],MMMM:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],Do:["1日","2日","3日","4日","5日","6日","7日","8日","9日","10日","11日","12日","13日","14日","15日","16日","17日","18日","19日","20日","21日","22日","23日","24日","25日","26日","27日","28日","29日","30日","31日"],WW:["周日","周一","周二","周三","周四","周五","周六"],WWW:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},duration:{"past moments":"刚刚","future moments":"片刻后",now:"现在"}};function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,a=t}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return u}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}[function(t,e){Object.assign(e,{toDate:function(){return this._date},toObject:function(){var t=this._date;return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millsecond:t.getMilliseconds(),timestamp:t.getTime(),week:t.getDay()}},toArray:function(){var t=this.toObject();return o.map((function(e){return t[e]}))},toString:function(){return this._date.toString()},toISOString:function(){return this._date.toISOString()},getTime:function(){return this._date.getTime()},getUnix:function(){return~~(this._date.getTime()/1e3)},clone:function(){var e=t(this.getTime());return Object.assign(e,structuredClone(this))},isValid:function(){return m(this.getTime())},set:function(t,e){var n=this._date,r=this.toObject();switch(t){case"year":n.setFullYear(e);break;case"month":n.setMonth(e-1);break;case"day":n.setDate(e);break;case"hour":n.setHours(e);break;case"minute":n.setMinutes(e);break;case"second":n.setSeconds(e);break;case"millsecond":n.setMilliseconds(e);break;case"timestamp":n.setTime(e);break;case"week":n.setDate(r.day-r.week+e)}return this},change:function(t,e){var n=this.toObject();return["day","hour","minute","second","millsecond"].includes(t)?this.set("timestamp",n.timestamp+e*s[t]):this.set(t,n[t]+e)},get:function(t){return this.toObject()[t]},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss";if(l(t)){var e=this._date,n=this.toObject(),r=e.toTimeString().match(/GMT([\+\-])(\d{2})(\d{2})/),a={YYYY:(""+n.year).padStart(4,"0"),YY:(""+n.year%100).padStart(2,"0"),M:""+n.month,D:""+n.day,H:""+n.hour,h:""+n.hour%12,m:""+n.minute,s:""+n.second,S:""+~~(n.millsecond/100),SS:""+~~(n.millsecond/10),SSS:""+n.millsecond,Z:r[1]+r[2]+":"+r[3],ZZ:r[1]+r[2]+r[3],A:["AM","PM"][~~(n.hour/12)],a:["am","pm"][~~(n.hour/12)],X:n.timestamp,x:~~(n.timestamp/1e3),Q:""+~~(n.month/3),W:n.week};return t.replace(/Y+|M+|Do|D+|H+|h+|m+|s+|S+|Z+|A|a|X|x|Q|W+/g,(function(t){return a[t]||a[t[0]].padStart(t.length,"0")||""}))}if(g(t))return t(this.toObject())||""}})},function(t,e){Object.assign(e,{endOf:function(t){return this.startOf(t).change(t,"week"==t?7:1).change("millsecond",-1)},startOf:function(e){var n=this.clone();if("timestamp"==e)return n;if("week"==e){var r=n.toObject();return t(r.year,r.month,r.day-r.week,0,0,0,0)}var a=o.indexOf(e)+1,s=u.slice(a),c=n.toArray();return c.splice.apply(c,[a,s.length].concat(i(s))),t.apply(void 0,i(c))}})},function(t,e){Object.assign(e,{isAfter:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"timestamp";return e=t(e),this.get(n)>e.get(n)},isBefore:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"timestamp";return e=t(e),this.get(n)<e.get(n)},isBetween:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"timestamp";return e=t(e),n=t(n),this.get(r)>e.get(r)&&this.get(r)<n.get(r)},isSame:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"timestamp";return e=t(e),this.get(n)==e.get(n)}})},function(t,e){Object.assign(t,{duration:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(W,e)}}),Object.assign(e,{diffWith:function(e,n){if(!(e=t(e)).isValid())return 0;var r=t.duration(this,e);return n?r.get(n):r},fromNow:function(){var e=t(),n=t.duration(this,e).toObject(),r=n.value<0,a="",i=t.getLanguage(),o=this.getLanguageCode(),u=new Intl.RelativeTimeFormat(o,{numeric:"auto"});return["year","month","day","hour","minute","second"].forEach((function(t){var e=n[t];!a&&e&&(a=u.format(e,t))})),a||(a=n.value?r?i.duration["past moments"]:i.duration["future moments"]:i.duration.now),a}})},function(t,e){var n,r={};[z,C].forEach((function(t){r[t.name]=t}));var a=(null===globalThis||void 0===globalThis||null===(n=globalThis.navigator)||void 0===n?void 0:n.language.toLowerCase())||"en-us";Object.assign(t,{setLanguage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t.toLowerCase(),r[t]=Object.assign(r[t]||{},e),this},switchLanguage:function(t){return a=t.toLowerCase(),this},getLanguage:function(){return r[a]||r["en-us"]},getLanguageCode:function(){return a}}),Object.assign(e,{_langMap:{},_lang:null,setLanguage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t.toLowerCase(),this._langMap[t]=Object.assign(this._langMap[t]||{},e),this},switchLanguage:function(t){return this._lang=t.toLowerCase(),this},getLanguage:function(){return this._langMap[this._lang]},getLanguageCode:function(){return this._lang}}),e.onInit((function(){this._langMap=Object.assign(this._langMap,r),this._lang=a}));var i=e.format;Object.assign(e,{format:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss";if(l(e)){var n=this,r=this.toObject(),a=t.getLanguage()||this.getLanguage(),o={};return o.MMMM=a.format.MMMM[r.month-1],o.MMM=a.format.MMM[r.month-1],o.Do=a.format.Do[r.day-1],o.WWW=a.format.WWW[r.week],o.WW=a.format.WW[r.week],e.replace(/Y+|M+|Do|D+|H+|h+|m+|s+|S+|Z+|A|a|X|x|Q|W+/g,(function(t){return o[t]?o[t]:i.bind(n)(t)}))}return i.bind(this)(e)}})},function(t,e){var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=0,a="undefined"!=typeof Intl&&Intl.supportedValuesOf?Intl.supportedValuesOf("timeZone"):[],i={"Africa/Asmara":"Africa/Nairobi","America/Buenos_Aires":"America/Argentina/Buenos_Aires","America/Argentina/ComodRivadavia":"America/Argentina/Catamarca","America/Catamarca":"America/Argentina/Catamarca","America/Cordoba":"America/Argentina/Cordoba","America/Jujuy":"America/Argentina/Jujuy","America/Mendoza":"America/Argentina/Mendoza","America/Atikokan":"America/Panama","America/Nipigon":"America/Toronto","America/Pangnirtung":"America/Iqaluit","America/Rainy_River":"America/Winnipeg","America/Thunder_Bay":"America/Toronto","America/Yellowknife":"America/Edmonton","Asia/Choibalsan":"Asia/Ulaanbaatar","Asia/Chongqing":"Asia/Shanghai","Asia/Chungking":"Asia/Shanghai","Asia/Harbin":"Asia/Shanghai","Australia/Currie":"Australia/Hobart","Europe/Kiev":"Europe/Kyiv","Europe/Uzhgorod":"Europe/Kyiv","Europe/Zaporozhye":"Europe/Kyiv","Pacific/Chuuk":"Pacific/Port_Moresby","Pacific/Pohnpei":"Pacific/Guadalcanal"},o={"America/Argentina/Buenos_Aires":"America/Buenos_Aires","America/Argentina/Catamarca":"America/Catamarca","America/Argentina/Cordoba":"America/Cordoba","America/Argentina/Jujuy":"America/Jujuy","America/Argentina/Mendoza":"America/Mendoza","America/Indiana/Indianapolis":"America/Indianapolis","America/Kentucky/Louisville":"America/Louisville","Asia/Ho_Chi_Minh":"Asia/Saigon","Asia/Kathmandu":"Asia/Katmandu","Asia/Kolkata":"Asia/Calcutta","Asia/Yangon":"Asia/Rangoon","Atlantic/Faroe":"Atlantic/Faeroe","Europe/Kyiv":"Europe/Kiev"},u=function(t,e){var n=e.replace(/\s/g,"").match(/(GMT|UTC)(\+|\-)?(\d{1,2})(\.|:)(\d{1,2})/);if(n){var r=Y(n,6);r[0],r[1];var u=r[2],s=r[3],c=r[4],f=r[5],h=0;return h=":"==c?60*Number(s)+Number(f):60*Number(s+c+f),"+"!=u&&u||(h=-h),6e4*(t.getTimezoneOffset()-h)}var m,l,g=(m=t,l=e,i[l]&&(l=i[l]),a.includes(l)||o[l]&&(l=o[l]),new Date(m.toLocaleString("en-US",{timeZone:l}))).getTime()-t.getTime();return g=6e4*Math.ceil(g/6e4)},s=new Date;Object.assign(t,{supportedTimezones:a,switchTimezone:function(t){return r=u(s,n=t),this},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()-r/6e4},getTimezone:function(){return n}}),Object.assign(e,{_timezone:null,_offset:0,switchTimezone:function(t){this._timezone=t;var e=this._date||s;return this._offset=u(e,this._timezone),this},getTimezoneOffset:function(){return this._date.getTimezoneOffset()-this._offset/6e4},getTimezone:function(){return this._timezone},isDayLightSavingTime:function(){return this.getTimezoneOffset()<this.clone().set("month",1).getTimezoneOffset()||this.getTimezoneOffset()<this.clone().set("month",6).getTimezoneOffset()}}),e.onInit((function(){this._timezone=n,this._offset=r,arguments.length&&(arguments.length<=0?void 0:arguments[0])&&(d(arguments.length<=0?void 0:arguments[0])||(arguments.length<=0?void 0:arguments[0])instanceof t||1==arguments.length&&m(arguments.length<=0?void 0:arguments[0])||r&&this._date.setTime(this._date.getTime()-r))}));var c=e.set,f=e.toObject;Object.assign(e,{toObject:function(){var t=this.clone();return t._date.setTime(t._date.getTime()+t._offset),f.bind(t)()},set:function(t,e){var n=this._date.getTime();this._date.setTime(n+this._offset);var r=c.bind(this)(t,e),a=r._date||s;return r._offset=u(a,r._timezone),n=r._date.getTime(),r._date.setTime(n-r._offset),r}})},function(t,e){var n=t.getLanguage();e.onInit((function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i=r.slice(0);if(i.length&&i[0]&&2==i.length&&l(i[0])&&l(i[1])){var u=function(e,r){var a=[],i=r.replace(/Y+|M+|Do|D+|H+|h+|m+|s+|S+|Z+|A|a|X|x|Q|W+/g,(function(t,e){if(n.format[t]){if(["MMM","MMMM"].includes(t))return a.push("month"),"("+n.format[t].join("|")+")";if(["Do"].includes(t))return a.push("day"),"("+n.format[t].join("|")+")";if(["WW","WWW"].includes(t))return a.push("week"),"("+n.format[t].join("|")+")"}else{if(c[t[0]])return a.push(c[t[0]]),"(\\d{1,"+t.length+"})";if(["h","hh"].includes(t))return a.push("hour_12"),"(\\d{1,2})";if("ZZ"==t)return a.push("timezone"),"(-?\\d{2}\\d{2})";if("Z"==t)return a.push("timezone"),"(-?\\d{2}:\\d{2})";if("A"==t)return a.push("am_pm"),"(AM|PM)";if("a"==t)return a.push("am_pm"),"(am|pm)";if("X"==t)return a.push("timestamp"),"(d+)";if("x"==t)return a.push("unix"),"(d+)"}return t})),u={},s=e.match(new RegExp(i));s&&s.slice(1).forEach((function(t,e){var n=a[e];u[n]=t}));var f={};return o.forEach((function(t){+u[t]&&(f[t]=+u[t])})),u.hour_12?(f.hour=+u.hour_12,u.am_pm&&["PM","pm"].includes(u.am_pm)&&(f.hour+=12)):u.timestamp?f=t(u.timestamp).toObject():u.unix&&(f=t(1e3*u.unix).toObject()),f}(i[0],i[1]);Object.keys(u).length?this._date=t(u).toDate():this._date=new Date("")}}))}].forEach(y.extend);export{y as default};
